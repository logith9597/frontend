<!DOCTYPE html>
<html>
<head>
    <title>Employee Registration</title>
    <style>
        body {
            font-family: Arial;
            background-color: #f2f2f2;
        }

        .form-box {
            width: 400px;
            margin: 150px auto;
            background: white;
            padding: 20px;
            border: 2px solid #ccc;
        }

        h2 {
            text-align: center;
        }

        label {
            font-weight: bold;
        }

        input, select, button {
            width: 100%;
            padding: 6px;
            margin: 8px 0;
            border: 2px solid #ccc;
            box-sizing: border-box;
        }

        button {
            background-color: #4CAF50;
            color: white;
            border: none;
            cursor: pointer;
        }

        .error {
            color: red;
            font-size: 14px;
        }

        .input-error {
            border-color: red;
        }

        .input-valid {
            border-color: green;
        }
    </style>
</head>
<body>

<div class="form-box">
    <h2>Employee Registration</h2>

    <form onsubmit="return validateForm()">

        <label>Name</label>
        <input type="text" id="name">
        <div id="nameError" class="error"></div>

        <label>Email</label>
        <input type="text" id="email">
        <div id="emailError" class="error"></div>

        <label>Department</label>
        <select id="department">
            <option value="">Select Department</option>
            <option>Testing</option>
            <option>Web Developer</option>
        </select>
        <div id="departmentError" class="error"></div>

        <label>Password</label>
        <input type="password" id="password">
        <div id="passwordError" class="error"></div>

        <label>Confirm Password</label>
        <input type="password" id="confirmPassword">
        <div id="confirmPasswordError" class="error"></div>

        <button type="submit">Register</button>
    </form>
</div>

<script>

document.getElementById("name").addEventListener("input", function() {
   
    this.value = this.value.replace(/[^A-Za-z]/g, '');
    if (this.value.length > 20) this.value = this.value.slice(0, 20);

    if (this.value.length === 0) {
        this.classList.add("input-error");
        this.classList.remove("input-valid");
        document.getElementById("nameError").innerText = "Name is required";
    } else {
        this.classList.remove("input-error");
        this.classList.add("input-valid");
        document.getElementById("nameError").innerText = "";
    }
});

document.getElementById("email").addEventListener("input", function() {
   
    var parts = this.value.split("@");
    if (parts.length > 2) {
        this.value = parts[0] + "@" + parts.slice(1).join("");
    }
   
    if (this.value.length > 30) this.value = this.value.slice(0, 30);

 
    var atCount = (this.value.match(/@/g) || []).length;
    if (this.value.length < 5 || atCount !== 1) {
        this.classList.add("input-error");
        this.classList.remove("input-valid");
        document.getElementById("emailError").innerText = "Email must contain exactly one @ and max 20 chars";
    } else {
        this.classList.remove("input-error");
        this.classList.add("input-valid");
        document.getElementById("emailError").innerText = "";
    }
});


document.getElementById("department").addEventListener("change", function() {
    if (this.value === "") {
        this.classList.add("input-error");
        this.classList.remove("input-valid");
        document.getElementById("departmentError").innerText = "Select department";
    } else {
        this.classList.remove("input-error");
        this.classList.add("input-valid");
        document.getElementById("departmentError").innerText = "";
    }
});


document.getElementById("password").addEventListener("input", function() {
    if (this.value.length === 0) {
        this.classList.add("input-error");
        this.classList.remove("input-valid");
        document.getElementById("passwordError").innerText = "Enter password";
    } else {
        this.classList.remove("input-error");
        this.classList.add("input-valid");
        document.getElementById("passwordError").innerText = "";
    }
});


document.getElementById("confirmPassword").addEventListener("input", function() {
    var password = document.getElementById("password").value;
    if (this.value === "" || this.value !== password) {
        this.classList.add("input-error");
        this.classList.remove("input-valid");
        document.getElementById("confirmPasswordError").innerText = "Passwords do not match";
    } else {
        this.classList.remove("input-error");
        this.classList.add("input-valid");
        document.getElementById("confirmPasswordError").innerText = "";
    }
});


function validateForm() {
    var fields = ["name","email","department","password","confirmPassword"];
    var valid = true;
    fields.forEach(function(id){
        var input = document.getElementById(id);
        if (!input.classList.contains("input-valid")) valid = false;
    });
    if (valid) {
        alert("Registration Successful!");
    }
    return valid;
}
</script>

</body>
</html>
